{"version":3,"file":"ladda.directive.js","sources":["ladda.directive.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;oBAAM;AACN;AACA,KAKE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar core_1 = require(\"@angular/core\");\r\nvar ladda_config_1 = require(\"./ladda-config\");\r\nvar Ladda = require(\"ladda\");\r\nvar LaddaDirective = (function () {\r\n    function LaddaDirective(el, config) {\r\n        this.el = el.nativeElement;\r\n        if (!config) {\r\n            return;\r\n        }\r\n        // apply default styles if they aren't overwritten by an attribute\r\n        for (var attribute in ladda_config_1.configAttributes) {\r\n            var configValue = config[ladda_config_1.configAttributes[attribute]];\r\n            if (!configValue) {\r\n                continue; // don't waste time reading the attribute\r\n            }\r\n            if (!this.el.getAttribute(attribute)) {\r\n                // attribute isn't set - apply the default config value\r\n                var value = (typeof configValue === \"number\") ? configValue.toString() : configValue;\r\n                this.el.setAttribute(attribute, value);\r\n            }\r\n        }\r\n    }\r\n    LaddaDirective.prototype.ngOnChanges = function (changes) {\r\n        if (!this._ladda) {\r\n            return; // needed since ngOnChanges is called before ngOnInit\r\n        }\r\n        if (changes['loading']) {\r\n            this.updateLadda(changes['loading'].previousValue);\r\n        }\r\n        if (changes['disabled']) {\r\n            this.updateDisabled();\r\n        }\r\n    };\r\n    LaddaDirective.prototype.ngOnInit = function () {\r\n        var _this = this;\r\n        this._ladda = Ladda.create(this.el);\r\n        // if the initial loading value isn't false, a timeout of 0 ms\r\n        // is necessary for the calculated spinner size to be correct.\r\n        setTimeout(function () { _this.updateLadda(false); }, 0);\r\n    };\r\n    LaddaDirective.prototype.ngOnDestroy = function () {\r\n        if (this._ladda) {\r\n            this._ladda.remove();\r\n        }\r\n    };\r\n    LaddaDirective.prototype.updateLadda = function (previousValue) {\r\n        var loading = typeof this.loading === 'number' || !!this.loading;\r\n        var wasLoading = typeof previousValue === 'number' || !!previousValue;\r\n        if (!loading) {\r\n            if (wasLoading) {\r\n                this._ladda.stop();\r\n            }\r\n            return this.updateDisabled();\r\n        }\r\n        if (!wasLoading) {\r\n            this._ladda.start();\r\n        }\r\n        if (typeof this.loading === 'number') {\r\n            this._ladda.setProgress(this.loading);\r\n        }\r\n    };\r\n    LaddaDirective.prototype.updateDisabled = function () {\r\n        this.el.disabled = this.disabled;\r\n    };\r\n    return LaddaDirective;\r\n}());\r\nLaddaDirective.decorators = [\r\n    { type: core_1.Directive, args: [{\r\n                selector: '[ladda]'\r\n            },] },\r\n];\r\n/** @nocollapse */\r\nLaddaDirective.ctorParameters = function () { return [\r\n    { type: core_1.ElementRef, },\r\n    { type: ladda_config_1.LaddaConfigArgs, decorators: [{ type: core_1.Inject, args: [ladda_config_1.LaddaConfig,] }, { type: core_1.Optional },] },\r\n]; };\r\nLaddaDirective.propDecorators = {\r\n    'loading': [{ type: core_1.Input, args: ['ladda',] },],\r\n    'disabled': [{ type: core_1.Input, args: ['disabled',] },],\r\n};\r\nexports.LaddaDirective = LaddaDirective;\r\n"]}